[General]
# æ—¥å¿—ç­‰çº§ warning, notify, info, verbose (é»˜è®¤: notify)
loglevel = notify
# ç½‘ç»œè¯Šæ–­
# > Internet æµ‹è¯• URL
internet-test-url = http://bing.com
# > ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://www.google.com/generate_204
# > æµ‹é€Ÿè¶…æ—¶ (s)
test-timeout = 3
# IPv6 æ”¯æŒ
ipv6 = false
# Wi-Fi è®¿é—®
# > å…è®¸ Wi-Fi ç½‘ç»œä¸‹å…¶å®ƒè®¾å¤‡è®¿é—®
allow-wifi-access = true
# > HTTP ä»£ç†æœåŠ¡ç«¯å£ï¼ˆé»˜è®¤ "6152"ï¼‰
# wifi-access-http-port = 6152
# > SOCKS5 ä»£ç†æœåŠ¡ç«¯å£ï¼ˆé»˜è®¤ "6153"ï¼‰
# wifi-access-socks5-port = 6153
# å¤–éƒ¨æ§åˆ¶å™¨
external-controller-access = Zero@127.0.0.1:6170
# å…¼å®¹æ€§
# > å…¼å®¹æ¨¡å¼ï¼ˆé»˜è®¤ "ç¦ç”¨"ï¼‰
# compatibility-mode = 0
# > è·³è¿‡æŸä¸ªåŸŸåæˆ–è€…IPæ®µ
skip-proxy = 192.168.0.0/16, 193.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, 17.0.0.0/8, 127.0.0.1, localhost, *.local
bypass-system = true
# å®éªŒæ€§æ”¯æŒ
# > TLS Provider: default, secure-transport, network-framework, openssl (é»˜è®¤: default)
tls-provider = default
# > å¯åŠ¨ Network.frameworkï¼ˆé»˜è®¤ä¸å¯ç”¨ï¼‰
network-framework = false
# å…¶ä»–ï¼ˆè¯·å…ˆé˜…è¯»æ‰‹å†Œï¼Œé™¤éä½ æ˜ç¡®çŸ¥é“å…¶å«ä¹‰ï¼Œå¦åˆ™ä¸è¦ä¿®æ”¹ä»»ä½•è®¾ç½®ï¼‰
# > Show Reject Error Page
show-error-page-for-reject = true
# > Hijack DNS
# hijack-dns =
# > TCP Force HTTP Hosts
# force-http-engine-hosts = example.com:80
# > VIF Excluded Routes
tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
# > VIF Included Routes
tun-included-routes = 192.168.1.12/32
# DNS æœåŠ¡å™¨
dns-server = 119.29.29.29,223.5.5.5,system

[Replica]
# [æŠ“å–æµé‡] => è¿‡æ»¤å™¨
# > éšè— Apple è¯·æ±‚
hide-apple-request = true
# > éšè— Crashlytics è¯·æ±‚
hide-crashlytics-request = true
# > éšè— UDP ä¼šè¯
hide-udp = false
# > å…³é”®è¯è¿‡æ»¤å™¨
keyword-filter-type = (null)
keyword-filter = icloud,ocsp,logs,analytic,ads,imap,adthor,applovin,appnext,talk,dropbox,spys

[Proxy]
ğƒğ¢ğ«ğğœğ­ = direct
ğ‘ğğ£ğğœğ­ = reject

[Proxy Group]
# æŠŠæœºåœºè®¢é˜…åœ°å€æ›¿æ¢æ‰ä¸‹æ–¹ç­–ç•¥ä¸­çš„â€œè®¢é˜…åœ°å€â€
èŠ‚ç‚¹é€‰æ‹© = select, å»¶è¿Ÿæœ€ä½, æ‰‹åŠ¨é€‰æ‹©, æ•…éšœåˆ‡æ¢
ğğğ­ğŸğ¥ğ¢ğ± = select, policy-path=è®¢é˜…åœ°å€
ğ˜ğ¨ğ®ğ“ğ®ğ›ğ = select, èŠ‚ç‚¹é€‰æ‹©, ğƒğ¢ğ«ğğœğ­
ğ“ğğ¥ğğ ğ«ğšğ¦ = select, èŠ‚ç‚¹é€‰æ‹©, ğƒğ¢ğ«ğğœğ­
ğ’ğ©ğğğğ“ğğ¬ğ­ = select, èŠ‚ç‚¹é€‰æ‹©, ğƒğ¢ğ«ğğœğ­
ğ€ğ©ğ©ğ¥ğæœåŠ¡ = select, ğƒğ¢ğ«ğğœğ­, èŠ‚ç‚¹é€‰æ‹©
å»¶è¿Ÿæœ€ä½ = url-test, policy-path=è®¢é˜…åœ°å€, url=http://www.gstatic.com/generate_204, interval=600, tolerance=50
æ‰‹åŠ¨é€‰æ‹© = select, policy-path=è®¢é˜…åœ°å€
æ•…éšœåˆ‡æ¢ = fallback, policy-path=è®¢é˜…åœ°å€, url=http://www.gstatic.com/generate_204, interval=600, tolerance=50
è´Ÿè½½å‡è¡¡ = load-balance, persistent=1, policy-path=è®¢é˜…åœ°å€, update-interval=0
ğ…ğ¢ğ§ğšğ¥ = select, èŠ‚ç‚¹é€‰æ‹©, ğƒğ¢ğ«ğğœğ­

[Rule]
# > Proxy
PROCESS-NAME,v2ray,ğƒğ¢ğ«ğğœğ­
PROCESS-NAME,ss-local,ğƒğ¢ğ«ğğœğ­
PROCESS-NAME,UUBooster,ğƒğ¢ğ«ğğœğ­
# > Download
PROCESS-NAME,aria2c,ğƒğ¢ğ«ğğœğ­
PROCESS-NAME,fdm,ğƒğ¢ğ«ğğœğ­
PROCESS-NAME,Folx,ğƒğ¢ğ«ğğœğ­
PROCESS-NAME,NetTransport,ğƒğ¢ğ«ğğœğ­
PROCESS-NAME,Thunder,ğƒğ¢ğ«ğğœğ­
PROCESS-NAME,Transmission,ğƒğ¢ğ«ğğœğ­
PROCESS-NAME,uTorrent,ğƒğ¢ğ«ğğœğ­
PROCESS-NAME,WebTorrent,ğƒğ¢ğ«ğğœğ­
PROCESS-NAME,WebTorrent Helper,ğƒğ¢ğ«ğğœğ­
# > BlockOTAï¼ˆå±è”½ç³»ç»Ÿç‰ˆæœ¬æ›´æ–°ï¼‰
DOMAIN,gdmf.apple.com,ğ‘ğğ£ğğœğ­
DOMAIN,gdmf.apple.com.akadns.net,ğ‘ğğ£ğğœğ­
DOMAIN,mesu.apple.com,ğ‘ğğ£ğğœğ­
DOMAIN,mesu-cdn.apple.com.akadns.net,ğ‘ğğ£ğğœğ­
DOMAIN,mesu-cdn.origin-apple.com.akadns.net,ğ‘ğğ£ğğœğ­
DOMAIN,mesu.g.aaplimg.com,ğ‘ğğ£ğğœğ­
DOMAIN,appldnld.apple.com,ğ‘ğğ£ğğœğ­
DOMAIN,appldnld.apple.com.akadns.net,ğ‘ğğ£ğğœğ­
# Rulesets (by eHpo1 + DivineEngineï¼‰
# åç»­è§„åˆ™ä¿®æ­£
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list,ğƒğ¢ğ«ğğœğ­,update-interval=3600
# å¹¿å‘Šæ‹¦æˆª
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list,ğ‘ğğ£ğğœğ­,update-interval=3600
# éšç§ä¿æŠ¤
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list,ğ‘ğğ£ğğœğ­,update-interval=3600
# è¿è¥å•†åŠ«æŒæˆ–æ¶æ„ç½‘ç«™
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list,ğ‘ğğ£ğğœğ­,update-interval=3600
# Netflix
RULE-SET,https://cdn.jsdelivr.net/gh/lhie1/Rules@master/Surge/Surge%203/Provider/Media/Netflix.list,ğğğ­ğŸğ¥ğ¢ğ±,update-interval=3600
# YouTube
RULE-SET,https://raw.githubusercontent.com/lhie1/Rules/master/Surge/Surge%203/Provider/Media/YouTube.list,ğ˜ğ¨ğ®ğ“ğ®ğ›ğ,update-interval=3600
# Speedtest
RULE-SET,https://cdn.jsdelivr.net/gh/lhie1/Rules@master/Surge/Surge%203/Provider/Speedtest.list,ğ’ğ©ğğğğ“ğğ¬ğ­,update-interval=3600
# å›½é™…æµåª’ä½“æœåŠ¡
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list,èŠ‚ç‚¹é€‰æ‹©,update-interval=3600
# ä¸­å›½æµåª’ä½“æœåŠ¡ï¼ˆé¢å‘æµ·å¤–ç‰ˆæœ¬ï¼‰
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/StreamingSE.list,ğ‘ğğ£ğğœğ­,update-interval=3600
# Apple æœåŠ¡
RULE-SET,https://cdn.jsdelivr.net/gh/lhie1/Rules@master/Surge/Surge%203/Provider/Apple.list,ğ€ğ©ğ©ğ¥ğæœåŠ¡,update-interval=3600
# TestFlight
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Apple/TestFlight.list,ğ€ğ©ğ©ğ¥ğæœåŠ¡,update-interval=3600
# å…¨çƒåŠ é€Ÿ
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list,èŠ‚ç‚¹é€‰æ‹©,update-interval=3600
# ä¸­å›½ç›´è¿
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list,ğƒğ¢ğ«ğğœğ­,update-interval=3600
# å±€åŸŸç½‘
RULE-SET,LAN,ğƒğ¢ğ«ğğœğ­
# GeoIP China
GEOIP,CN,ğƒğ¢ğ«ğğœğ­
FINAL,ğ…ğ¢ğ§ğšğ¥,dns-failed

[Host]
# Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188

[URL Rewrite]
# å¦‚æœä½ è§£é”äº†ã€Œæ¨¡å—ã€åŠŸèƒ½å¯ä»¥ä½¿ç”¨ sgmodule åæ¸…ç©º [URL Rewrite] åŠ [MITM] éƒ¨åˆ†ï¼ŒMitM è¯ä¹¦é‡æ–°ç”Ÿæˆé…ç½®ã€‚
# å»ºè®®å¿…é€‰ä½¿ç”¨ General.sgmoduleï¼Œå…¶ä»– .sgmodule æŒ‰éœ€åŠ å…¥

[Header Rewrite]
# æ®ç²—ç•¥ç»Ÿè®¡ï¼Œæœ‰å¤§æ¦‚ä¸‰åˆ†ä¹‹äºŒçš„æœ¬é¡¹ç›®ä½¿ç”¨è€…åœç•™åœ¨äº† Surge 2ã€3 æ—¶æœŸæ•…è€Œä¿ç•™äº† Rewrite åŠ MitMï¼Œæ‰€ä»¥å¦‚æœä½ è§£é”äº†ã€Œæ¨¡å—ã€åŠŸèƒ½å¯ä»¥ä½¿ç”¨ sgmodule åæ¸…ç©º [URL Rewrite] åŠ [MITM] éƒ¨åˆ†ï¼ŒMitM è¯ä¹¦é‡æ–°ç”Ÿæˆé…ç½®ã€‚
# å»ºè®®å¿…é€‰ä½¿ç”¨ General.sgmoduleï¼Œå…¶ä»– .sgmodule æŒ‰éœ€åŠ å…¥
# ç™¾åº¦é˜²è·³è½¬
^https?:\/\/.*\.baidu\.com header-replace User-Agent Mozilla/5.0 (iPhone; CPU iPhone OS 13_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.1 Mobile/15E148 Safari/16C50 Quark/604.1 T7/10.3 SearchCraft/2.6.3 (Baidu; P1 8.0.0)$2

[MITM]
skip-server-cert-verify = true
hostname = mp.weixin.qq.com,vsco.co, api.revenuecat.com,api.m.jd.com, trade-acs.m.taobao.com,api.weibo.cn, mapi.weibo.com, *.uve.weibo.com
ca-passphrase = 67F3EB4A
ca-p12 = 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

[Script]
# å¾®ä¿¡å»è®¢é˜…æ–‡ç« å¹¿å‘Š
http-response ^https?:\/\/mp\.weixin\.qq\.com\/mp\/getappmsgad requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/File/Wechat.js
# > VSCOä¼šå‘˜
http-response ^https:\/\/(api\.revenuecat\.com\/v\d\/subscribers|vsco\.co\/api\/subscriptions\/\d\.\d\/user-subscriptions)\/ requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/File/vsco.js
#äº¬ä¸œæ·˜å®æ¯”ä»·
http-response ^https?://api\.m\.jd\.com/client\.action\?functionId=(wareBusiness|serverConfig|basicConfig) requires-body=1,script-path=https://service.2ti.st/QuanX/Script/jd_tb_price/main.js
http-request ^http://.+/amdc/mobileDispatch requires-body=1,script-path=https://service.2ti.st/QuanX/Script/jd_tb_price/main.js
http-response ^https?://trade-acs\.m\.taobao\.com/gw/mtop\.taobao\.detail\.getdetail requires-body=1,script-path=https://service.2ti.st/QuanX/Script/jd_tb_price/main.js
#å¾®åšå»å¹¿å‘Š
http-response ^https?://(sdk|wb)app\.uve\.weibo\.com(/interface/sdk/sdkad.php|/wbapplua/wbpullad.lua) requires-body=1,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/wb_launch.js
http-response ^https?://m?api\.weibo\.c(n|om)/2/(statuses/(unread|extend|positives/get|(friends|video)(/|_)(mix)?timeline)|stories/(video_stream|home_list)|(groups|fangle)/timeline|profile/statuses|comments/build_comments|photo/recommend_list|service/picfeed|searchall|cardlist|page|!/(photos/pic_recommend_status|live/media_homelist)|video/tiny_stream_video_list|photo/info|remind/unread_count) requires-body=1,max-size=-1,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/wb_ad.js
#91çŸ­è§†é¢‘,http://i91.porn
http-response ^https?:\/\/.+\.(my10api|(.*91.*))\.(com|tips|app|xyz)(:\d{2,5})?\/api.php$ requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/91ShortVideo.js
