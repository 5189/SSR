[General]
# 日志等级 warning, notify, info, verbose (默认: notify)
loglevel = notify
# 网络诊断
# > Internet 测试 URL
internet-test-url = http://bing.com
# > 代理测速 URL
proxy-test-url = http://www.google.com/generate_204
# > 测速超时 (s)
test-timeout = 3
# IPv6 支持
ipv6 = false
# Wi-Fi 访问
# > 允许 Wi-Fi 网络下其它设备访问
allow-wifi-access = true
# > HTTP 代理服务端口（默认 "6152"）
# wifi-access-http-port = 6152
# > SOCKS5 代理服务端口（默认 "6153"）
# wifi-access-socks5-port = 6153
# 外部控制器
external-controller-access = Zero@127.0.0.1:6170
# 兼容性
# > 兼容模式（默认 "禁用"）
# compatibility-mode = 0
# > 跳过某个域名或者IP段
skip-proxy = 192.168.0.0/16, 193.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, 17.0.0.0/8, 127.0.0.1, localhost, *.local
bypass-system = true
# 实验性支持
# > TLS Provider: default, secure-transport, network-framework, openssl (默认: default)
tls-provider = default
# > 启动 Network.framework（默认不启用）
network-framework = false
# 其他（请先阅读手册，除非你明确知道其含义，否则不要修改任何设置）
# > Show Reject Error Page
show-error-page-for-reject = true
# > Hijack DNS
# hijack-dns =
# > TCP Force HTTP Hosts
# force-http-engine-hosts = example.com:80
# > VIF Excluded Routes
tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
# > VIF Included Routes
tun-included-routes = 192.168.1.12/32
# DNS 服务器
dns-server = 119.29.29.29,223.5.5.5,system

[Replica]
# [抓取流量] => 过滤器
# > 隐藏 Apple 请求
hide-apple-request = true
# > 隐藏 Crashlytics 请求
hide-crashlytics-request = true
# > 隐藏 UDP 会话
hide-udp = false
# > 关键词过滤器
keyword-filter-type = (null)
keyword-filter = icloud,ocsp,logs,analytic,ads,imap,adthor,applovin,appnext,talk,dropbox,spys

[Proxy]
𝐃𝐢𝐫𝐞𝐜𝐭 = direct
𝐑𝐞𝐣𝐞𝐜𝐭 = reject

[Proxy Group]
# 把机场订阅地址替换掉下方策略中的“订阅地址”
节点选择 = select, 延迟最低, 手动选择, 故障切换
𝐍𝐞𝐭𝐟𝐥𝐢𝐱 = select, policy-path=订阅地址
𝐘𝐨𝐮𝐓𝐮𝐛𝐞 = select, 节点选择, 𝐃𝐢𝐫𝐞𝐜𝐭
𝐓𝐞𝐥𝐞𝐠𝐫𝐚𝐦 = select, 节点选择, 𝐃𝐢𝐫𝐞𝐜𝐭
𝐒𝐩𝐞𝐞𝐝𝐓𝐞𝐬𝐭 = select, 节点选择, 𝐃𝐢𝐫𝐞𝐜𝐭
𝐀𝐩𝐩𝐥𝐞服务 = select, 𝐃𝐢𝐫𝐞𝐜𝐭, 节点选择
延迟最低 = url-test, policy-path=订阅地址, url=http://www.gstatic.com/generate_204, interval=600, tolerance=50
手动选择 = select, policy-path=订阅地址
故障切换 = fallback, policy-path=订阅地址, url=http://www.gstatic.com/generate_204, interval=600, tolerance=50
负载均衡 = load-balance, persistent=1, policy-path=订阅地址, update-interval=0
𝐅𝐢𝐧𝐚𝐥 = select, 节点选择, 𝐃𝐢𝐫𝐞𝐜𝐭

[Rule]
# > Proxy
PROCESS-NAME,v2ray,𝐃𝐢𝐫𝐞𝐜𝐭
PROCESS-NAME,ss-local,𝐃𝐢𝐫𝐞𝐜𝐭
PROCESS-NAME,UUBooster,𝐃𝐢𝐫𝐞𝐜𝐭
# > Download
PROCESS-NAME,aria2c,𝐃𝐢𝐫𝐞𝐜𝐭
PROCESS-NAME,fdm,𝐃𝐢𝐫𝐞𝐜𝐭
PROCESS-NAME,Folx,𝐃𝐢𝐫𝐞𝐜𝐭
PROCESS-NAME,NetTransport,𝐃𝐢𝐫𝐞𝐜𝐭
PROCESS-NAME,Thunder,𝐃𝐢𝐫𝐞𝐜𝐭
PROCESS-NAME,Transmission,𝐃𝐢𝐫𝐞𝐜𝐭
PROCESS-NAME,uTorrent,𝐃𝐢𝐫𝐞𝐜𝐭
PROCESS-NAME,WebTorrent,𝐃𝐢𝐫𝐞𝐜𝐭
PROCESS-NAME,WebTorrent Helper,𝐃𝐢𝐫𝐞𝐜𝐭
# > BlockOTA（屏蔽系统版本更新）
DOMAIN,gdmf.apple.com,𝐑𝐞𝐣𝐞𝐜𝐭
DOMAIN,gdmf.apple.com.akadns.net,𝐑𝐞𝐣𝐞𝐜𝐭
DOMAIN,mesu.apple.com,𝐑𝐞𝐣𝐞𝐜𝐭
DOMAIN,mesu-cdn.apple.com.akadns.net,𝐑𝐞𝐣𝐞𝐜𝐭
DOMAIN,mesu-cdn.origin-apple.com.akadns.net,𝐑𝐞𝐣𝐞𝐜𝐭
DOMAIN,mesu.g.aaplimg.com,𝐑𝐞𝐣𝐞𝐜𝐭
DOMAIN,appldnld.apple.com,𝐑𝐞𝐣𝐞𝐜𝐭
DOMAIN,appldnld.apple.com.akadns.net,𝐑𝐞𝐣𝐞𝐜𝐭
# Rulesets (by eHpo1 + DivineEngine）
# 后续规则修正
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list,𝐃𝐢𝐫𝐞𝐜𝐭,update-interval=3600
# 广告拦截
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list,𝐑𝐞𝐣𝐞𝐜𝐭,update-interval=3600
# 隐私保护
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list,𝐑𝐞𝐣𝐞𝐜𝐭,update-interval=3600
# 运营商劫持或恶意网站
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list,𝐑𝐞𝐣𝐞𝐜𝐭,update-interval=3600
# Netflix
RULE-SET,https://cdn.jsdelivr.net/gh/lhie1/Rules@master/Surge/Surge%203/Provider/Media/Netflix.list,𝐍𝐞𝐭𝐟𝐥𝐢𝐱,update-interval=3600
# YouTube
RULE-SET,https://raw.githubusercontent.com/lhie1/Rules/master/Surge/Surge%203/Provider/Media/YouTube.list,𝐘𝐨𝐮𝐓𝐮𝐛𝐞,update-interval=3600
# Speedtest
RULE-SET,https://cdn.jsdelivr.net/gh/lhie1/Rules@master/Surge/Surge%203/Provider/Speedtest.list,𝐒𝐩𝐞𝐞𝐝𝐓𝐞𝐬𝐭,update-interval=3600
# 国际流媒体服务
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list,节点选择,update-interval=3600
# 中国流媒体服务（面向海外版本）
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/StreamingSE.list,𝐑𝐞𝐣𝐞𝐜𝐭,update-interval=3600
# Apple 服务
RULE-SET,https://cdn.jsdelivr.net/gh/lhie1/Rules@master/Surge/Surge%203/Provider/Apple.list,𝐀𝐩𝐩𝐥𝐞服务,update-interval=3600
# TestFlight
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Apple/TestFlight.list,𝐀𝐩𝐩𝐥𝐞服务,update-interval=3600
# 全球加速
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list,节点选择,update-interval=3600
# 中国直连
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list,𝐃𝐢𝐫𝐞𝐜𝐭,update-interval=3600
# 局域网
RULE-SET,LAN,𝐃𝐢𝐫𝐞𝐜𝐭
# GeoIP China
GEOIP,CN,𝐃𝐢𝐫𝐞𝐜𝐭
FINAL,𝐅𝐢𝐧𝐚𝐥,dns-failed

[Host]
# Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188

[URL Rewrite]
# 如果你解锁了「模块」功能可以使用 sgmodule 后清空 [URL Rewrite] 及 [MITM] 部分，MitM 证书重新生成配置。
# 建议必选使用 General.sgmodule，其他 .sgmodule 按需加入

[Header Rewrite]
# 据粗略统计，有大概三分之二的本项目使用者停留在了 Surge 2、3 时期故而保留了 Rewrite 及 MitM，所以如果你解锁了「模块」功能可以使用 sgmodule 后清空 [URL Rewrite] 及 [MITM] 部分，MitM 证书重新生成配置。
# 建议必选使用 General.sgmodule，其他 .sgmodule 按需加入
# 百度防跳转
^https?:\/\/.*\.baidu\.com header-replace User-Agent Mozilla/5.0 (iPhone; CPU iPhone OS 13_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.1 Mobile/15E148 Safari/16C50 Quark/604.1 T7/10.3 SearchCraft/2.6.3 (Baidu; P1 8.0.0)$2

[MITM]
skip-server-cert-verify = true
hostname = mp.weixin.qq.com,%APPEND% *.googlevideo.com,*.tiktokv.com, *.byteoversea.com, *.musical.ly, *.snssdk.com,api.m.jd.com,proxy.vac.qq.com,vsco.co
ca-passphrase = 67F3EB4A
ca-p12 = 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

[Script]
# 微信去订阅文章广告
Wechat.js = type=http-response,pattern=^https?:\/\/mp\.weixin\.qq\.com\/mp\/getappmsgad,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/File/Wechat.js,script-update-interval=0
# 跳过 YouTube 视频片头广告
http-request ^https://[\s\S]*\.googlevideo\.com/.*&(oad|ctier) script-path=https://raw.githubusercontent.com/Choler/Surge/master/Script/YouTube.js
# 京东比价
京东多合一签到 = type=cron,cronexp=5 0 * * *,wake-system=1,timeout=20,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/JD-DailyBonus/JD_DailyBonus.js
获取京东Cookie = type=http-request,pattern=https:\/\/api\.m\.jd\.com\/client\.action.*functionId=signBean,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/JD-DailyBonus/JD_DailyBonus.js
# > qq会员成长值签到
qq会员获取cookie = type=http-request,pattern=https:\/\/proxy.vac.qq.com\/cgi-bin\/srfentry.fcgi,script-path=qqVipCheckIn.js
qq会员签到 = type=cron,cronexp="0 0 0,1 * * ?",wake-system=1,script-path=qqVipCheckIn.js
# > VSCO会员
http-response ^https?:\/\/vsco\.co\/api\/subscriptions\/2.1\/user-subscriptions\/ requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/File/vsco.js

